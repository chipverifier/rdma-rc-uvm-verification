本文件定义 RDMA 子系统的演进路线图，用于明确当前版本能力边界、后续扩展方向以及长期架构约束。

Roadmap 的目标不是承诺实现时间，而是：

* 保证架构设计具有长期一致性
* 为未来功能预留清晰的扩展入口
* 防止短期需求破坏系统整体结构

---

一、当前版本定位（V0）

当前 RDMA 子系统定位为：

* 面向 RoCEv2 协议的最小可用子集实现
* 以系统正确性与架构清晰性为首要目标
* 明确验证 RX → Scheduler → TX 闭环行为

### 已支持能力

* RoCEv2 RC 模式
* 基本 RDMA 操作：SEND / WRITE / READ
* 单端口、单路径通信
* 基础 ACK / NACK 机制
* 顺序一致性与基本可靠性

### 明确不支持能力

* 拥塞控制与速率调节
* 多路径与负载均衡
* 原子操作
* 高级错误恢复策略
* 性能与吞吐优化

这些限制是架构选择，而非实现缺失。

---

二、短期演进方向（V1）

V1 的目标是在不破坏现有接口契约的前提下，提升系统完整性。

### 可能引入的能力

* 更完整的 ACK 聚合策略
* 基本重传优化（如批量重传）
* RX 乱序处理能力增强
* Completion 语义扩展（如更多状态码）

### 架构约束

* 所有新增策略仍集中在 Scheduler
* TX Packet Engine 不引入策略逻辑
* RX 不直接驱动 TX 行为

---

三、中期演进方向（V2）

V2 关注系统可扩展性与协议覆盖度。

### 潜在扩展点

* 拥塞控制接口（ECN / CNP 相关事件）
* 多路径支持（多 Port / 多 QP 映射）
* 更复杂的 QP 状态管理

### 架构演进原则

* 通过扩展事件类型与决策语义实现新能力
* 保持现有模块边界不变
* 新功能优先通过接口扩展而非模块耦合实现

---

四、长期演进展望（V3 及以后）

长期演进不以具体功能为导向，而以架构能力为核心。

### 可能方向

* 协议无关的 RDMA / 网络卸载框架
* 更通用的调度与策略引擎
* 支持多协议共存（RoCE / iWARP 等）

### 长期约束

* Scheduler 作为统一控制平面长期存在
* Packet Engine 作为可替换执行模块
* 验证体系以系统不变量为核心持续演进

---

五、Roadmap 的使用方式

* 本 Roadmap 不作为项目排期承诺
* 用于评估新增需求是否符合长期方向
* 用于指导架构与接口评审

任何新增功能在引入前，均应回答：

* 它属于哪个演进阶段？
* 是否破坏既有接口或不变量？

---

六、总结

本 Roadmap 的核心价值在于：

* 明确“现在做什么”
* 更明确“现在不做什么”

通过阶段化演进，RDMA 子系统可以在保持结构稳定的前提下逐步扩展能力。
